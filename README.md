# OllamaFlow

> ä¸€ä¸ªä¸º Ollama AI æ¨¡å‹è®¾è®¡çš„å¯è§†åŒ–å·¥ä½œæµæ„å»ºå™¨

OllamaFlow æ˜¯ä¸€ä¸ªåŸºäº Electron çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œå…è®¸ç”¨æˆ·é€šè¿‡æ‹–æ‹½èŠ‚ç‚¹çš„æ–¹å¼æ„å»ºä¸ Ollama AI æ¨¡å‹äº¤äº’çš„è‡ªåŠ¨åŒ–å·¥ä½œæµã€‚æ— éœ€ç¼–å†™ä»£ç ï¼Œå³å¯åˆ›å»ºåŒ…å« AI å¯¹è¯ã€æ–‡ä»¶æ“ä½œã€å‘½ä»¤æ‰§è¡Œå’Œæ¡ä»¶é€»è¾‘çš„å¤æ‚å·¥ä½œæµç¨‹ã€‚

## åŠŸèƒ½ç‰¹æ€§

- **å¯è§†åŒ–èŠ‚ç‚¹ç¼–è¾‘å™¨** - åŸºäº React Flow çš„ç›´è§‚æ‹–æ‹½å¼å·¥ä½œæµè®¾è®¡
- **Ollama é›†æˆ** - ç›´æ¥ä¸æœ¬åœ° Ollama å®ä¾‹äº¤äº’ï¼Œæ”¯æŒæ‰€æœ‰å¯ç”¨æ¨¡å‹
- **å¤šç§èŠ‚ç‚¹ç±»å‹**ï¼š
  - ğŸ¤– **Ollama å¯¹è¯** - AI æ–‡æœ¬ç”Ÿæˆå’Œå¯¹è¯
  - ğŸ“ **æ–‡ä»¶æ“ä½œ** - è¯»å–/å†™å…¥æ–‡ä»¶
  - ğŸ–¼ï¸ **å›¾åƒå¤„ç†** - å›¾åƒç”Ÿæˆå’Œå¤„ç†
  - ğŸ” **å¾ªç¯æ§åˆ¶** - æ‰¹å¤„ç†å’Œè¿­ä»£æ“ä½œ
  - âš™ï¸ **Shell å‘½ä»¤** - æ‰§è¡Œç³»ç»Ÿå‘½ä»¤
  - ğŸ”€ **æ¡ä»¶åˆ¤æ–­** - åŸºäºæ¡ä»¶çš„åˆ†æ”¯é€»è¾‘
  - ğŸ“ **ç”¨æˆ·è¾“å…¥** - å·¥ä½œæµå¯åŠ¨æ—¶æ”¶é›†ç”¨æˆ·è¾“å…¥
- **å®æ—¶æ‰§è¡Œç›‘æ§** - æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€å’Œæ‰§è¡Œæ—¥å¿—
- **æµå¼è¾“å‡º** - å®æ—¶æ˜¾ç¤º Ollama å“åº”
- **å˜é‡æ’å€¼** - ä½¿ç”¨ `{{variableName}}` è¯­æ³•åœ¨èŠ‚ç‚¹é—´ä¼ é€’æ•°æ®
- **å·¥ä½œç©ºé—´ç®¡ç†** - ä¿å­˜å’ŒåŠ è½½å¤šä¸ªå·¥ä½œæµ

## æˆªå›¾

### æ¬¢è¿ç•Œé¢

![OllamaFlow Welcome](screenshot/OllamaFlow%20Welcome.png)

### å·¥ä½œæµç¼–è¾‘å™¨

![OllamaFlow Editor](screenshot/OllamaFlow%20Editor.png)

## ç³»ç»Ÿè¦æ±‚

- **Node.js** >= 18.0.0
- **Ollama** - éœ€è¦æœ¬åœ°å®‰è£…å¹¶è¿è¡Œ Ollama
  - ä¸‹è½½åœ°å€ï¼šhttps://ollama.ai/download
  - é»˜è®¤ä¸»æœºï¼š`http://localhost:11434`

## å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/richardyang92/OllamaFlow.git
cd OllamaFlow

# å®‰è£…ä¾èµ–
npm install
```

## å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
npm run dev

# ä»£ç æ£€æŸ¥
npm run lint
```

## æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# æ„å»º Windows å®‰è£…åŒ…
npm run build:win

# æ„å»ºä½†ä¸æ‰“åŒ…ï¼ˆç”¨äºæµ‹è¯•ï¼‰
npm run build:unpack
```

æ„å»ºäº§ç‰©ä½äº `dist/` ç›®å½•ã€‚

## ä½¿ç”¨æŒ‡å—

### åˆ›å»ºå·¥ä½œæµ

1. ç‚¹å‡»å·¥å…·æ ä¸­çš„"æ–°å»ºå·¥ä½œåŒº"åˆ›å»ºæ–°çš„å·¥ä½œç©ºé—´
2. ä»å·¦ä¾§èŠ‚ç‚¹é¢æ¿æ‹–æ‹½èŠ‚ç‚¹åˆ°ç”»å¸ƒ
3. è¿æ¥èŠ‚ç‚¹ä»¥å®šä¹‰æ•°æ®æµå‘
4. ç‚¹å‡»èŠ‚ç‚¹åœ¨å³ä¾§é¢æ¿é…ç½®å…¶å±æ€§
5. ç‚¹å‡»"è¿è¡Œ"æŒ‰é’®æ‰§è¡Œå·¥ä½œæµ

### å˜é‡æ’å€¼

åœ¨å·¥ä½œæµä¸­ä½¿ç”¨ `{{variableName}}` è¯­æ³•å¼•ç”¨å˜é‡ï¼š

- å¼•ç”¨å…¶ä»–èŠ‚ç‚¹çš„è¾“å‡ºï¼š`{{nodeName.fieldName}}`
- æ”¯æŒåµŒå¥—è®¿é—®ï¼š`{{node.data.subfield.value}}`
- ä½¿ç”¨ç”¨æˆ·è¾“å…¥ï¼š`{{userInput.inputName}}`

### å·¥ä½œç©ºé—´ç»“æ„

å·¥ä½œç©ºé—´ä»¥æ–‡ä»¶å¤¹å½¢å¼å­˜å‚¨ï¼ŒåŒ…å«ï¼š

```
workspace-folder/
â”œâ”€â”€ .ollamaflow/
â”‚   â”œâ”€â”€ config.json       # å·¥ä½œç©ºé—´é…ç½®
â”‚   â”œâ”€â”€ workflow.json     # èŠ‚ç‚¹å’Œè¾¹æ•°æ®
â”‚   â””â”€â”€ cache/            # è¿è¡Œæ—¶ç¼“å­˜
```

## é¡¹ç›®æ¶æ„

```
OllamaFlow/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/           # Electron ä¸»è¿›ç¨‹
â”‚   â”‚   â””â”€â”€ index.ts    # IPC å¤„ç†ã€æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
â”‚   â”œâ”€â”€ preload/        # é¢„åŠ è½½è„šæœ¬
â”‚   â”‚   â””â”€â”€ index.ts    # Context Bridge æš´éœ² API
â”‚   â””â”€â”€ renderer/       # React UI åº”ç”¨
â”‚       â”œâ”€â”€ components/ # UI ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ nodes/      # èŠ‚ç‚¹å¯è§†åŒ–ç»„ä»¶
â”‚       â”‚   â””â”€â”€ workflow/   # å·¥ä½œæµç¼–è¾‘å™¨
â”‚       â”œâ”€â”€ engine/     # æ‰§è¡Œå¼•æ“
â”‚       â”‚   â””â”€â”€ nodes/      # èŠ‚ç‚¹æ‰§è¡Œå™¨
â”‚       â”œâ”€â”€ store/      # Zustand çŠ¶æ€ç®¡ç†
â”‚       â””â”€â”€ types/      # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ dev.js          # å¼€å‘æœåŠ¡å™¨è„šæœ¬
â””â”€â”€ electron.vite.config.ts  # Vite é…ç½®
```

### æ·»åŠ æ–°èŠ‚ç‚¹ç±»å‹

1. åœ¨ [src/renderer/types/node.ts](src/renderer/types/node.ts) ä¸­å®šä¹‰èŠ‚ç‚¹ç±»å‹
2. åœ¨ [src/renderer/components/nodes/](src/renderer/components/nodes/) åˆ›å»ºå¯è§†åŒ–ç»„ä»¶
3. åœ¨ [src/renderer/components/workflow/properties/](src/renderer/components/workflow/properties/) åˆ›å»ºå±æ€§é¢æ¿
4. åœ¨ [src/renderer/engine/nodes/](src/renderer/engine/nodes/) å®ç°æ‰§è¡Œå™¨
5. æ³¨å†Œåˆ°èŠ‚ç‚¹æ¨¡æ¿å’Œæ‰§è¡Œå™¨æ³¨å†Œè¡¨

è¯¦ç»†è¯´æ˜è¯·å‚é˜… [CLAUDE.md](CLAUDE.md)ã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶** - Electron + React + TypeScript
- **æ„å»ºå·¥å…·** - Vite + electron-vite
- **UI åº“** - React Flowã€TailwindCSSã€Framer Motion
- **çŠ¶æ€ç®¡ç†** - Zustand
- **AI é›†æˆ** - Ollama (JavaScript SDK)
- **å­˜å‚¨** - electron-store

## è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Issue æˆ– Pull Requestã€‚

## è‡´è°¢

- [Ollama](https://ollama.ai) - æœ¬åœ° LLM è¿è¡Œæ—¶
- [React Flow](https://reactflow.dev) - å¼ºå¤§çš„èŠ‚ç‚¹ç¼–è¾‘å™¨
- [Electron](https://www.electronjs.org) - è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
